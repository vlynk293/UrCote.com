@{
    ViewBag.Title = "Home Page";
}

@section styles{
}
<form>
    <textarea id="code" name="code">
        <html style="color: green">
        <!-- this is a comment -->
        <head>
            <title>Mixed HTML Example</title>
            <style type="text/css">
                h1 {
                    font-family: comic sans;
                    color: #f0f;
                }

                div {
                    background: yellow !important;
                }

                body {
                    max-width: 50em;
                    margin: 1em 2em 1em 5em;
                }
            </style>
        </head>
        <body>
            <h1>Mixed HTML Example</h1>
            <script>
      function jsFunc(arg1, arg2) {
        if (arg1 && arg2) document.body.innerHTML = "achoo";
      }
            </script>
        </body>
    </html>
</textarea>
</form>








@section scripts{
    <script>
        var mixedMode = {
            name: "htmlmixed",
            scriptTypes: [{
                matches: /\/x-handlebars-template|\/x-mustache/i,
                mode: null
            },
                          {
                              matches: /(text|application)\/(x-)?vb(a|script)/i,
                              mode: "vbscript"
                          }]
        };
        var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
            lineNumber: true,
            mode: mixedMode,
            selectionPointer: true
        });


        CodeMirror.commands["selectAll"](editor);

        function getSelectedRange() {
            return { from: editor.getCursor(true), to: editor.getCursor(false) };
        }

        function autoFormatSelection() {
            var range = getSelectedRange();
            editor.autoFormatRange(range.from, range.to);
        }

        function commentSelection(isComment) {
            var range = getSelectedRange();

            editor.commentRange(isComment, range.from, range.to);
        }


        // key commands
        document.addEventListener("keydown", function (e) {
            if (e.keyCode == 83 && (navigator.platform.match("Mac") ? e.metaKey : e.ctrlKey)) {
                e.preventDefault();
                alert("saved!");
            }
        }, false);

        document.addEventListener("keydown", function (e) {
            if (e.keyCode == 83 && (navigator.platform.match("Mac") ? e.metaKey : e.ctrlKey)) {
                e.preventDefault();
                alert("saved!");
            }
        }, false);
    </script>
}